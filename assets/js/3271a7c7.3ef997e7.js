"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3854],{3294:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var n=i(4848),r=i(8453);const t={sidebar_position:2,title:"02 - Google Cloud"},l="Setting up Google Cloud",a={id:"terraform-cli/cli_installation/setup-gcp",title:"02 - Google Cloud",description:"There are some preliminary steps that a Google Cloud Admin needs to complete manually before that can be run.",source:"@site/docs/terraform-cli/cli_installation/setup-gcp.md",sourceDirName:"terraform-cli/cli_installation",slug:"/terraform-cli/cli_installation/setup-gcp",permalink:"/rad-lab/docs/terraform-cli/cli_installation/setup-gcp",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"02 - Google Cloud"},sidebar:"tutorialSidebar",previous:{title:"01 - Source Control",permalink:"/rad-lab/docs/terraform-cli/cli_installation/source-control"},next:{title:"03 - RAD Lab Management Project",permalink:"/rad-lab/docs/terraform-cli/cli_installation/management-project"}},s={},c=[{value:"Organization ID",id:"organization-id",level:2},{value:"Folder ID",id:"folder-id",level:2},{value:"Billing ID",id:"billing-id",level:2},{value:"Organization Policies",id:"organization-policies",level:2}];function d(e){const o={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h1,{id:"setting-up-google-cloud",children:"Setting up Google Cloud"}),"\n",(0,n.jsx)(o.p,{children:"There are some preliminary steps that a Google Cloud Admin needs to complete manually before that can be run."}),"\n",(0,n.jsx)(o.h2,{id:"organization-id",children:"Organization ID"}),"\n",(0,n.jsxs)(o.p,{children:["You can follow these ",(0,n.jsx)(o.a,{href:"https://cloud.google.com/resource-manager/docs/creating-managing-organization#retrieving_your_organization_id",children:"steps"})," to get your Organization Resource ID."]}),"\n",(0,n.jsx)(o.admonition,{type:"note",children:(0,n.jsxs)(o.p,{children:["Organization ID is not required if you are deploying the module in a folder and setting ",(0,n.jsx)(o.code,{children:"folder_id"})," variable in specific module deployment."]})}),"\n",(0,n.jsxs)(o.admonition,{type:"tip",children:[(0,n.jsxs)(o.p,{children:["To spin up a RAD Lab module in a GCP project without any ",(0,n.jsx)(o.strong,{children:"Organization"}),", make sure to disable ",(0,n.jsx)(o.em,{children:"orgpolicy.tf"})," under ",(0,n.jsx)(o.code,{children:"modules/[MODULE-NAME]/"})," by manually setting the default value of Orgpolicy variables  to ",(0,n.jsx)(o.strong,{children:"false"})]}),(0,n.jsxs)(o.p,{children:["Example: set default value of ",(0,n.jsx)(o.code,{children:"set_shielded_vm_policy"})," & ",(0,n.jsx)(o.code,{children:"set_vpc_peering_policy"})," variables in ",(0,n.jsx)(o.a,{href:"https://github.com/GoogleCloudPlatform/rad-lab/tree/main/modules/app_mod_elastic",children:"app_mod_elastic module"}),"'s ",(0,n.jsx)(o.em,{children:"variables.tf"})," file to ",(0,n.jsx)(o.strong,{children:"false"}),")"]})]}),"\n",(0,n.jsx)(o.h2,{id:"folder-id",children:"Folder ID"}),"\n",(0,n.jsxs)(o.p,{children:["RAD Lab will deploy its resources into newly created projects. We recommend that these projects should be placed within a Google Cloud Folder (see ",(0,n.jsx)(o.a,{href:"https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy",children:"Google Cloud resource hierarchy"}),")"]}),"\n",(0,n.jsx)(o.p,{children:"Structuring projects this way allows easy implementation of access and security controls. This Folder will have a unique ID that you will provide to RAD Lab module to instruct it where to place resources."}),"\n",(0,n.jsx)(o.h2,{id:"billing-id",children:"Billing ID"}),"\n",(0,n.jsx)(o.p,{children:"In order to provision Google Cloud resources, an active billing account is required. You will be asked to provide or select a Billing ID on the deployment via RAD Lab Launcher."}),"\n",(0,n.jsx)(o.h2,{id:"organization-policies",children:"Organization Policies"}),"\n",(0,n.jsxs)(o.p,{children:["Some RAD Lab modules require permission to bypass several Google Cloud Organization Policies (if these are enabled at a higher level in the resource hierarchy). Each module will specify its requirements in this regard. We recommend editing the Organization Policies at the RAD Lab Folder level (",(0,n.jsx)(o.strong,{children:"not"})," at higher folders or the organization level).  Do bear in mind that if it's necessary to manipulate organization policies, the identity running the Terraform code requires the IAM role Organization Policy Administrator (",(0,n.jsx)(o.a,{href:"https://cloud.google.com/resource-manager/docs/access-control-org#using_predefined_roles",children:(0,n.jsx)(o.code,{children:"roles/orgpolicy.policyAdmin"})}),")."]})]})}function u(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,o,i)=>{i.d(o,{R:()=>l,x:()=>a});var n=i(6540);const r={},t=n.createContext(r);function l(e){const o=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(t.Provider,{value:o},e.children)}}}]);